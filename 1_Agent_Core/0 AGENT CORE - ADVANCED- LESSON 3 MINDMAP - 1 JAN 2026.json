{
  "name": "0 AGENT CORE - ADVANCED- LESSON 3 MINDMAP - 1 JAN 2026",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        1152,
        656
      ],
      "id": "aeb59099-374f-4715-93f1-b3351b612eff",
      "name": "When chat message received",
      "webhookId": "4a718233-d95c-4bb5-a075-c858c88043f6"
    },
    {
      "parameters": {
        "content": "## Step 3 - Agent with Guardrails\n- Used when we want some censorship",
        "height": 512,
        "width": 1040
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -112,
        1440
      ],
      "typeVersion": 1,
      "id": "83347bc0-4931-4efe-988f-c396aa783e6f",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "## Step 1 - Agent with Guardrails\n- Build this workflow",
        "height": 672,
        "width": 1232
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1056,
        480
      ],
      "typeVersion": 1,
      "id": "4b2e8782-ffa7-4b66-9d3f-fb503893f0cc",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        368,
        1536
      ],
      "id": "670d5c61-7b11-4138-bc0f-c2ec78d721fe",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        1552,
        672
      ],
      "id": "67acce1b-3459-44f1-9421-6784898fcd0f",
      "name": "Google Gemini Chat Model1",
      "credentials": {
        "googlePalmApi": {
          "id": "O6SF0bLV6YzzpRJP",
          "name": "KN GG - 23 DEC 2025"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        1680,
        736
      ],
      "id": "23a15908-e72f-4657-836f-d9ee1a010efa",
      "name": "Simple Memory1"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "memoryKey": {
          "__rl": true,
          "mode": "list",
          "value": "vector_store_key"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreInMemory",
      "typeVersion": 1.3,
      "position": [
        1824,
        688
      ],
      "id": "b2b68f6c-1182-46cb-a40e-28551c7fa657",
      "name": "Simple Vector Store1"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        1888,
        864
      ],
      "id": "681525a7-b427-4b19-afe8-e19aad00f0cb",
      "name": "Embeddings Google Gemini1",
      "credentials": {
        "googlePalmApi": {
          "id": "O6SF0bLV6YzzpRJP",
          "name": "KN GG - 23 DEC 2025"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        1696,
        496
      ],
      "id": "53cbe84b-0d9c-42ac-bfb4-f50f4402de83",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "guardrails": {}
      },
      "type": "@n8n/n8n-nodes-langchain.guardrails",
      "typeVersion": 2,
      "position": [
        1344,
        656
      ],
      "id": "fb6556eb-4dfa-4a73-88a3-0157a88fd69a",
      "name": "Guardrails"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chat",
      "typeVersion": 1,
      "position": [
        1568,
        976
      ],
      "id": "8792130c-b171-4fd8-8952-ca2655f91fd9",
      "name": "Respond to Chat"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        304,
        416
      ],
      "id": "128d24dc-2d98-49f6-b329-8e63b0dec8fe",
      "name": "AI Agent2"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        208,
        720
      ],
      "id": "6939d0bd-7618-4711-a7af-c15ff4ea2b33",
      "name": "Simple Memory2"
    },
    {
      "parameters": {
        "content": "## Step 1 - Agent With Respond Node\n- Used to gain more control over response",
        "height": 512,
        "width": 1040
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -112,
        384
      ],
      "typeVersion": 1,
      "id": "6b3050c2-1c06-4d6f-ad22-d7fba6082a02",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        64,
        720
      ],
      "id": "5b1d5ba6-4658-46f4-8c3a-dae47137e3c7",
      "name": "Google Gemini Chat Model2",
      "credentials": {
        "googlePalmApi": {
          "id": "O6SF0bLV6YzzpRJP",
          "name": "KN GG - 23 DEC 2025"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chat",
      "typeVersion": 1,
      "position": [
        672,
        432
      ],
      "id": "f0eba3c2-d1c9-4086-b79e-d436a277096d",
      "name": "Respond to Chat1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        304,
        944
      ],
      "id": "c409e587-2e5b-48a3-9a4e-f0b7af92b5bf",
      "name": "AI Agent3"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        208,
        1248
      ],
      "id": "25779901-169f-4a96-b381-5a03ffcde20d",
      "name": "Simple Memory3"
    },
    {
      "parameters": {
        "content": "## Step 2 - Agent with Respond to Node Tool\n- Used when Agent Need confirmation",
        "height": 512,
        "width": 1040
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -112,
        912
      ],
      "typeVersion": 1,
      "id": "bb01c275-5580-48ce-abd5-ee59b7247bc2",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        64,
        1248
      ],
      "id": "7aac025a-3e7a-4a18-9679-bf759a094d0d",
      "name": "Google Gemini Chat Model3",
      "credentials": {
        "googlePalmApi": {
          "id": "O6SF0bLV6YzzpRJP",
          "name": "KN GG - 23 DEC 2025"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTool",
      "typeVersion": 1,
      "position": [
        560,
        1232
      ],
      "id": "83ff8b78-f05b-4fbe-8c3d-82c4220f9f4d",
      "name": "Respond to Chat4"
    },
    {
      "parameters": {
        "operation": "sanitize",
        "guardrails": {}
      },
      "type": "@n8n/n8n-nodes-langchain.guardrails",
      "typeVersion": 2,
      "position": [
        704,
        1536
      ],
      "id": "03bb5a2d-44d3-4618-9455-ad8799ea90e3",
      "name": "Guardrails1"
    },
    {
      "parameters": {
        "guardrails": {}
      },
      "type": "@n8n/n8n-nodes-langchain.guardrails",
      "typeVersion": 2,
      "position": [
        64,
        1552
      ],
      "id": "ae5adc51-2f55-41bf-8c8f-efb50b0f02a9",
      "name": "Guardrails2"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chat",
      "typeVersion": 1,
      "position": [
        464,
        1776
      ],
      "id": "8e549a80-ca81-45e8-9587-64045f423f7a",
      "name": "Respond to Chat2"
    },
    {
      "parameters": {
        "content": "## Step 2 - Evaluation\n- Test Agent with 10 Sample Inputs",
        "height": 672,
        "width": 1232
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1056,
        1168
      ],
      "typeVersion": 1,
      "id": "0db58d5e-c439-4853-9f0d-a430fd9d22de",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        1328,
        1504
      ],
      "id": "925bfae3-f003-4222-9dd7-2ccdf14b1b78",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "O6SF0bLV6YzzpRJP",
          "name": "KN GG - 23 DEC 2025"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        1760,
        1696
      ],
      "id": "ddc0eee9-ea21-4192-8545-bc815cd32d46",
      "name": "Embeddings Google Gemini",
      "credentials": {
        "googlePalmApi": {
          "id": "O6SF0bLV6YzzpRJP",
          "name": "KN GG - 23 DEC 2025"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        1584,
        1248
      ],
      "id": "0c464fd1-2a25-411a-81e2-447f28480d87",
      "name": "AI Agent4"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chat",
      "typeVersion": 1,
      "position": [
        2080,
        1280
      ],
      "id": "163f71bc-4ec7-45aa-b7ac-94679a517cda",
      "name": "Respond to Chat3"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "tableName": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.3,
      "position": [
        1696,
        1488
      ],
      "id": "72c71033-a9c7-44c8-a48e-c5914c402832",
      "name": "Supabase Vector Store",
      "credentials": {
        "supabaseApi": {
          "id": "K5egAccSrB8X5a0u",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [
        1568,
        1488
      ],
      "id": "a27e6bac-1cfe-429b-8d91-ec7425fc17c5",
      "name": "Postgres Chat Memory",
      "credentials": {
        "postgres": {
          "id": "XE7WTkWiZS9oDP8K",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "dataTableId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        }
      },
      "type": "n8n-nodes-base.evaluationTrigger",
      "typeVersion": 4.7,
      "position": [
        1136,
        1344
      ],
      "id": "d4cc4bc3-dee2-425a-a706-b6dacf19b34e",
      "name": "When fetching a dataset row"
    },
    {
      "parameters": {
        "dataTableId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        }
      },
      "type": "n8n-nodes-base.evaluation",
      "typeVersion": 4.8,
      "position": [
        1888,
        1280
      ],
      "id": "b4d556ed-32b1-4540-b9af-395215f967aa",
      "name": "Evaluation"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "Guardrails",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory1": {
      "ai_memory": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Simple Vector Store1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini1": {
      "ai_embedding": [
        [
          {
            "node": "Simple Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Guardrails": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Respond to Chat",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory2": {
      "ai_memory": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent2": {
      "main": [
        [
          {
            "node": "Respond to Chat1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent3": {
      "main": [
        []
      ]
    },
    "Simple Memory3": {
      "ai_memory": [
        [
          {
            "node": "AI Agent3",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent3",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Respond to Chat4": {
      "ai_tool": [
        [
          {
            "node": "AI Agent3",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Guardrails1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Guardrails2": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Respond to Chat2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent4",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store": {
      "ai_tool": [
        [
          {
            "node": "AI Agent4",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent4",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "When fetching a dataset row": {
      "main": [
        [
          {
            "node": "AI Agent4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent4": {
      "main": [
        [
          {
            "node": "Evaluation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Evaluation": {
      "main": [
        [
          {
            "node": "Respond to Chat3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "6ed36599-3046-4e7a-b8bd-cd58232a3f3e",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "d85661857dfcd1207ce11ef23fab2db3d27371fb05cc9bce02662a3f60039047"
  },
  "id": "FqIou14U4POIGAKm",
  "tags": []
}